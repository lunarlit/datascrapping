# Stage 1 - 정적 수집과 동적 수집 비교

이번 스테이지에서는 기존에 배우던 방식인 정적 수집과 오늘 사용할 동적 수집을 비교해보고 어떤 상황에 어떤 방식을 써야 하는지 배워봅니다.

얼핏 봐서는 브라우저를 사용하는 수집이 만능이라 정적 수집을 쓸 필요가 없어보이지만 정적 수집은 속도가 매우 빠르기 때문에 가능하면 사용하는 편이 좋습니다.

## 정적 수집을 사용할 수 있는 경우

![](../.gitbook/assets/image%20%28421%29.png)

가장 처음 데이터수집을 해보았던 네이버 TV TOP 100 페이지입니다. 이 페이지의 특징은 한 페이지 안에 모든 데이터가 다 담겨있다는 것입니다.

제일 먼저 다룬만큼 가장 쉬운 형태라고 할 수 있겠습니다.

![](../.gitbook/assets/image%20%28477%29.png)

여러 페이지를 수집하는 예제에서 수집해 본 네이버 뉴스와 과제로 나왔던 Hashcode라는 서비스입니다. 이 서비스들은 여러 페이지를 이동하며 수집해야 했지만 각 페이지마다 주소\(정확히는 쿼리스트링\)가 달라지는 모습을 보였습니다.

따라서 단순히 주소의 요청값만 잘 바꿔준다면 첫 번째 형태를 여러 번 반복하는 것과 마찬가지입니다.

이렇게 정적 수집이 가능한 페이지의 특징은

1. 별다른 절차없이 주소로 바로 접속해도 데이터를 볼 수 있다.
2. 새로고침하지 않으면 페이지 안의 데이터가 변하지 않는다. \(데이터가 정적이다.\)

간단하게는 이 두가지로 정리해볼 수 있겠습니다.  
\(이 두 가지를 만족하나 정적 수집이 불가능한 경우도 없지는 않습니다.\)

## 정적 수집을 사용할 수 없는 경우

![](../.gitbook/assets/image%20%28201%29.png)

네이버 메일함은 바로 접속할 수 없고 반드시 로그인을 거쳐야 합니다.

로그인 후 메일함의 주소를 복사하여 로그아웃된 상태에서 접속해보아도 왼쪽의 로그인 안내창으로 이어집니다.

![](../.gitbook/assets/image%20%28224%29.png)

굉장히 독특한 경우인데 메인 페이지를 통하지 않고 바로 접속하면 이용할 수 없는 페이지입니다.

파이썬 코드에서 메인 페이지를 접속했다가 해당 페이지로 접속해보아도, 두 접속은 이어지는 것이 아니라 별개의 요청이기 때문에 소용이 없습니다.

![](../.gitbook/assets/image%20%2852%29.png)

최근의 발달한 웹 기술을 이용하면 새로고침을 하지 않고도 데이터를 추가로 로딩할 수가 있습니다.

좌측의 사진 목록은 스크롤이 끝까지 도달하려하면 사진을 더 불러옵니다. 우측의 갤러리 뷰는 화살표를 누르면 새로운 사진이 계속 로딩됩니다.

이런 동적 로딩 데이터들은 최초 한 번밖에 얻어올 수 없는 정적 수집으로는 도달이 불가능합니다.

위와 같이 같은 주소를 사용해 접속해도 상황에 따라 데이터를 볼 수 없거나 다른 데이터가 나오는 페이지들은 기존 방식으로 수집할 수가 없습니다.

## 정적 수집과 동적 수집의 비교

기존에 배운 방식은 아래와 같이 주소에서 HTML 소스를 가져오도록 요청합니다.

```python
requests.get('https://tv.naver.com/r/')
raw = req.text
html = BeautifulSoup(raw, 'html.parser')
```

이를 어느 상황에서나 같은 주소에서 변하지 않는 데이터를 기대할 수 있다는 의미에서 정적\(static\) 수집이라 부릅니다.

Stage 2부터 배워볼 수집 방식은 아래와 같이 실제 브라우저를 도구로 이용합니다.

![](../.gitbook/assets/image%20%2814%29.png)

단순히 HTML 소스를 요청할 뿐만 아니라 입력, 클릭 등 실제 브라우저를 사용할 때 하는 행동들도 수행할 수 있다는 의미에서 동적\(dynamic\) 수집이라 부릅니다.

위에서 봤던 예시들처럼 같은 주소를 가지고도 상황에 따라 데이터가 변하는 동적 페이지를 수집한다는 의미도 가지고 있습니다.

![](../.gitbook/assets/image%20%2828%29.png)

정적 수집과 동적 수집의 차이를 간단히 정리한 비교표입니다.

정적 수집은 한 번 주소를 통해 요청하고 결과를 받는 것으로 끝입니다. 로그인 상태를 유지하는 등 연속적인 작업을 수행할 수 없습니다. 반면 동적 수집은 브라우저를 실제로 사용하기 때문에 브라우저가 꺼지지 않는 한 이전에 수행한 작업의 영향을 유지할 수 있습니다.

또한 정적 수집은 위의 예제에서 보듯 웹에 존재하는 다양한 서비스를 모두 수집하기엔 한계가 있습니다. 따라서 필연적으로 동적 수집을 활용해야 합니다. 정적 수집을 먼저 배운 이유는 과정이 단순하여 이해하기 쉽기 때문입니다.

정적 수집은 단점밖에 없어보이지만 꼭 사용해야 할 이유가 있습니다. HTML 결과를 받아 브라우저에 그려주는 과정이 생략되기 때문에 속도가 매우 빠르다는 것입니다. 따라서 정적 수집은 사용이 제한적이지만 가능한 경우 최대한 사용해주는 것이 좋습니다.

그러면 다음 스테이지에서 동적 수집을 가능케하는 selenium 라이브러리에 대해 배워보겠습니다.

